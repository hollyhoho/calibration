classdef ReshapeArray
    properties (Static = true)
        batch = struct('iFly_201711',1, ...
                        'iFly_201801',2,...
                        'iFly_201806',3);
        row1 = [0,...
            3,3,3,2,2,2,2,2,...
            2,2,2,2,2,2,2,2,...
            2,2,2,2,2,2,2,2,...
            2,2,2,2,2,3,3,3];
        column1 = [0,...
            5,5,5,5,5,5,5,5,...
            5,5,5,5,5,5,5,5,...
            5,5,5,5,5,5,5,5,...
            5,5,5,5,5,5,5,5];

        row2 = [0,...
            2,2,2,2,2,2,2,1,...
            1,1,1,1,1,1,1,1,...
            1,1,1,1,1,1,1,1,...
            1,2,2,2,2,2,2,2];

        column2 = [0,...
            4,4,4,4,4,4,4,4,...
            4,4,4,4,4,4,4,4,...
            4,4,4,4,4,4,4,4,...
            4,4,4,4,4,4,4,4];
        
        row3 = [0,...
            1,1,1,1,1,1,1,1,...
            1,1,1,1,1,1,1,1,...
            1,1,1,1,1,1,1,1,...
            1,1,1,1,1,1,1,1];

        column3 = [0,...
            2,2,2,2,2,2,2,2,...
            2,2,2,2,2,2,2,2,...
            2,2,2,2,2,2,2,2,...
            2,2,2,2,2,2,2,2];
    end
    
    methods (Static = true)
        function newArray = reshapeArray(array, bat)
            if ~isfield(ReshapeArray.batch, bat)
                mydialog('无此产品批次')
            else
                row = eval(['ReshapeArray.row', num2str( eval(['ReshapeArray.batch.',bat]) )]);
                column = eval(['ReshapeArray.column', num2str( eval(['ReshapeArray.batch.',bat]) )]);
                for i=2:33
                    for j=2:33
                        newArray(...
                            sum(row(1:(i-1)))+1 : sum(row(1:i)),...
                            sum(column(1:(j-1)))+1: sum(column(1:j))...
                            ) = array(i-1,j-1);
                    end
                end
            end
        end       
    end
end